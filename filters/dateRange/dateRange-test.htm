<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>dateRange Unit Tests</title>
    <link rel="stylesheet" href="//code.jquery.com/qunit/qunit-1.21.0.css">
</head>

<body>
    <div id="qunit"></div>
    <div id="qunit-fixture"></div>
    <script src="//code.jquery.com/qunit/qunit-1.21.0.js"></script>
    <script src="http://agentanswercenter.directv.com/en-us/res/system/js/angular.min.1.2.11.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>
    <script src="dateRange.js"></script>
    <script>
    QUnit.test("dateRange - All fields", function(assert) {
        var testObjects = [{
                "program": "Program 1",
                "premDate": "2016-01-01",
            }, {
                "program": "Program 2",
                "premDate": "2016-01-02",
            }, {
                "program": "Program 3",
                "premDate": "2016-01-03",
            }, {
                "program": "Program 4",
                "premDate": "2016-01-04",
            }],
            expectedResult = [{
                "program": "Program 2",
                "premDate": "2016-01-02",
            }, {
                "program": "Program 3",
                "premDate": "2016-01-03",
            }];
        assert.deepEqual(dateRange(testObjects, "2016-01-02", "2016-01-03"), expectedResult, "Dates filtered to " + JSON.stringify(expectedResult));
    });

    QUnit.test("dateRange - endDate = undefined", function(assert) {
        var testObjects = [{
                "program": "Program 1",
                "premDate": "2016-01-01",
            }, {
                "program": "Program 2",
                "premDate": "2016-01-02",
            }, {
                "program": "Program 3",
                "premDate": "2016-01-03",
            }, {
                "program": "Program 4",
                "premDate": "2016-01-04",
            }];
        assert.deepEqual(dateRange(testObjects, "2016-01-02", undefined), testObjects);
    });

    QUnit.test("dateRange - startDate = undefined", function(assert) {
        var testObjects = [{
                "program": "Program 1",
                "premDate": "2016-01-01",
            }, {
                "program": "Program 2",
                "premDate": "2016-01-02",
            }, {
                "program": "Program 3",
                "premDate": "2016-01-03",
            }, {
                "program": "Program 4",
                "premDate": "2016-01-04",
            }];
        assert.deepEqual(dateRange(testObjects, undefined, "2016-01-03"), testObjects);
    });

    QUnit.test("dateRange - startDate = ''", function(assert) {
        var testObjects = [{
                "program": "Program 1",
                "premDate": "2016-01-01",
            }, {
                "program": "Program 2",
                "premDate": "2016-01-02",
            }, {
                "program": "Program 3",
                "premDate": "2016-01-03",
            }, {
                "program": "Program 4",
                "premDate": "2016-01-04",
            }];
        assert.deepEqual(dateRange(testObjects, '', "2016-01-03"), testObjects);
    });

    QUnit.test("dateRange - Invalid Dates", function(assert) {
        var testObjects = [{
                "program": "Program 1",
                "premDate": "2016-01-01",
            }, {
                "program": "Program 2",
                "premDate": "2016-01-02",
            }, {
                "program": "Program 3",
                "premDate": "2016-01-03",
            }, {
                "program": "Program 4",
                "premDate": "2016-01-04",
            }];
        assert.deepEqual(dateRange(testObjects, "01-01-2016", "01-04-2016"), []);
    });

    QUnit.test("dateRange - Nothing in range", function(assert) {
        var testObjects = [{
                "program": "Program 1",
                "premDate": "2016-01-01",
            }, {
                "program": "Program 2",
                "premDate": "2016-01-02",
            }, {
                "program": "Program 3",
                "premDate": "2016-01-03",
            }, {
                "program": "Program 4",
                "premDate": "2016-01-04",
            }];
        assert.deepEqual(dateRange(testObjects, "2014-01-01", "2015-01-01"), []);
    });
    </script>
</body>

</html>
